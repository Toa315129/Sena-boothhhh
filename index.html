<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SENA PRESTIGE BOOTH ✦ ENTERPRISE ULTIMATE 2026</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/EaselPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvas-confetti/1.6.0/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&family=Prompt:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        /* ============================================================
           [ PHASE 1: ATOMIC DESIGN SYSTEM ]
           ============================================================
        */
        :root {
            /* Palette */
            --color-bg: #FFFFFF;
            --color-surface: #FDFDFD;
            --color-text-main: #1A1A1A;
            --color-text-sub: #8E8E93;
            --color-accent: #D4AF37; /* Prestige Gold */
            --color-k-blue: #EBF4FF;
            --color-k-pink: #FFF0F5;
            --color-dark-surface: #121212;
            
            /* Typography */
            --font-primary: 'Montserrat', sans-serif;
            --font-secondary: 'Prompt', sans-serif;
            
            /* Layout */
            --safe-area: 60px;
            --radius-sm: 4px;
            --radius-md: 12px;
            --radius-lg: 30px;
            
            /* Motion */
            --timing-ultra: cubic-bezier(0.16, 1, 0.3, 1);
            --transition-main: all 0.6s var(--timing-ultra);
        }

        /* ============================================================
           [ PHASE 2: GLOBAL RESET & MICRO-INTERACTIONS ]
           ============================================================
        */
        * {
            margin: 0; padding: 0; box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            cursor: none; /* Custom cursor used in booth */
        }

        body, html {
            width: 100vw; height: 100vh; overflow: hidden;
            background: var(--color-bg); color: var(--color-text-main);
            font-family: var(--font-primary);
        }

        #custom-cursor {
            position: fixed; width: 30px; height: 30px; border: 1px solid var(--color-text-main);
            border-radius: 50%; pointer-events: none; z-index: 999999;
            mix-blend-mode: difference; transition: transform 0.1s ease-out;
            display: flex; align-items: center; justify-content: center;
        }

        #custom-cursor::after {
            content: ''; width: 4px; height: 4px; background: white; border-radius: 50%;
        }

        /* ============================================================
           [ PHASE 3: AMBIENT ENVIRONMENT ]
           ============================================================
        */
        .ambient-layer {
            position: fixed; inset: 0; z-index: 1; pointer-events: none;
        }

        .floating-sparkle {
            position: absolute; font-size: 24px; opacity: 0;
            animation: sparkle-float 6s infinite ease-in-out;
        }

        @keyframes sparkle-float {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0; }
            20% { opacity: 0.4; }
            80% { opacity: 0.4; }
            100% { transform: translate(20px, -100px) rotate(45deg); opacity: 0; }
        }

        /* ============================================================
           [ PHASE 4: NAVIGATION ARCHITECTURE ]
           ============================================================
        */
        #app-shell {
            position: relative; width: 100%; height: 100%; z-index: 10;
        }

        .view-layer {
            position: absolute; inset: 0; display: none;
            padding: var(--safe-area); flex-direction: column;
            align-items: center; justify-content: center;
        }

        .view-layer.active { display: flex; }

        /* ============================================================
           [ PHASE 5: SCREEN SPECIFIC STYLES - HOME ]
           ============================================================
        */
        .home-hero { text-align: center; }
        
        .home-logo-wrap {
            position: relative; overflow: hidden; margin-bottom: 20px;
        }

        .brand-text {
            font-weight: 100; font-size: 140px; letter-spacing: 40px;
            text-transform: uppercase; margin-right: -40px;
            background: linear-gradient(90deg, #1A1A1A, #8E8E93, #1A1A1A);
            background-size: 200% auto; -webkit-background-clip: text;
            -webkit-text-fill-color: transparent; animation: shine 8s linear infinite;
        }

        @keyframes shine { to { background-position: 200% center; } }

        .brand-sub {
            font-size: 18px; letter-spacing: 12px; color: var(--color-text-sub);
            font-weight: 300; text-transform: uppercase;
        }

        .start-action-container {
            margin-top: 100px; position: relative;
        }

        .circular-btn {
            width: 260px; height: 260px; border-radius: 50%;
            border: 1px solid #F0F0F0; display: flex; align-items: center;
            justify-content: center; position: relative; cursor: pointer;
            transition: var(--transition-main);
        }

        .circular-btn:hover { border-color: var(--color-text-main); transform: scale(1.05); }

        .circular-btn .btn-label {
            font-size: 14px; letter-spacing: 6px; font-weight: 400;
        }

        .rotating-border {
            position: absolute; inset: -10px; border: 1px dashed #DDD;
            border-radius: 50%; animation: rotate 20s linear infinite;
        }

        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* ============================================================
           [ PHASE 6: SCREEN SPECIFIC STYLES - CAMERA ]
           ============================================================
        */
        .studio-layout {
            display: grid; grid-template-columns: 180px 1fr 450px; gap: 60px;
            width: 100%; height: 88vh; max-width: 1700px;
        }

        /* History Sidebar */
        .history-rail {
            display: flex; flex-direction: column; gap: 20px;
            justify-content: center;
        }

        .rail-slot {
            width: 100%; aspect-ratio: 4/3; background: var(--color-surface);
            border: 1px solid #F0F0F0; border-radius: 4px; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
            position: relative; transform: translateX(-100px); opacity: 0;
        }

        .rail-slot img { width: 100%; height: 100%; object-fit: cover; }

        .rail-slot::before { content: '✦'; color: #EEE; font-size: 20px; }

        /* Live Viewport */
        .viewport-frame {
            position: relative; width: 100%; height: 100%;
            background: #000; border-radius: 12px; overflow: hidden;
            box-shadow: 0 50px 120px rgba(0,0,0,0.15);
        }

        #webcam-stream {
            width: 100%; height: 100%; object-fit: cover;
            transform: scaleX(-1);
        }

        .count-overlay {
            position: absolute; inset: 0; display: flex; align-items: center;
            justify-content: center; pointer-events: none; z-index: 100;
        }

        #big-count {
            font-size: 300px; font-weight: 100; color: #FFF;
            text-shadow: 0 0 40px rgba(0,0,0,0.2);
        }

        /* Control Panel */
        .control-panel {
            display: flex; flex-direction: column; justify-content: space-between;
            padding: 30px 0;
        }

        .panel-header { margin-bottom: 40px; }
        .panel-title { 
            font-size: 14px; letter-spacing: 5px; font-weight: 700;
            color: var(--color-text-sub); text-transform: uppercase;
        }

        .filter-scroller {
            display: flex; flex-direction: column; gap: 15px;
        }

        .filter-card {
            padding: 24px; background: #FFF; border: 1px solid #EEE;
            border-radius: 4px; cursor: pointer; display: flex;
            justify-content: space-between; align-items: center;
            transition: var(--transition-main);
        }

        .filter-card.active {
            background: var(--color-text-main); color: #FFF;
            border-color: var(--color-text-main); transform: translateX(10px);
        }

        .shutter-btn-wrap {
            display: flex; align-items: center; gap: 30px;
        }

        .shutter-btn {
            width: 120px; height: 120px; border-radius: 50%;
            background: var(--color-text-main); border: 12px solid var(--color-surface);
            cursor: pointer; position: relative; display: flex;
            align-items: center; justify-content: center;
        }

        .shutter-btn:active { transform: scale(0.9); }

        /* ============================================================
           [ PHASE 7: SCREEN SPECIFIC STYLES - EDITOR ]
           ============================================================
        */
        .editor-container {
            display: flex; gap: 100px; align-items: center;
        }

        .strip-preview-area {
            background: #FFF; padding: 25px; border: 1px solid #F0F0F0;
            box-shadow: 0 60px 100px rgba(0,0,0,0.06);
            transform: rotate(-0.5deg);
        }

        .editor-sidebar { width: 400px; }

        .theme-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;
            margin: 40px 0;
        }

        .theme-item {
            height: 100px; border-radius: 8px; cursor: pointer;
            border: 1px solid #EEE; position: relative; transition: 0.3s;
        }

        .theme-item.active { border: 2px solid var(--color-text-main); }
        .theme-item.active::after {
            content: '✦'; position: absolute; top: 10px; right: 10px;
        }

        .finish-btn {
            width: 100%; padding: 30px; background: var(--color-text-main);
            color: #FFF; border: none; cursor: pointer; letter-spacing: 8px;
            font-size: 16px; font-weight: 600; text-transform: uppercase;
        }

        /* ============================================================
           [ PHASE 8: FINAL SCREEN ]
           ============================================================
        */
        .success-hero { text-align: center; }
        #qr-code-box {
            background: #FFF; padding: 30px; margin: 50px 0;
            display: inline-block; border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.04);
        }
        
        .final-actions { display: flex; flex-direction: column; gap: 20px; align-items: center; }

        /* ============================================================
           [ PHASE 9: UTILITIES & SYSTEM COMPONENTS ]
           ============================================================
        */
        #flash-system {
            position: fixed; inset: 0; background: #FFF; z-index: 10000;
            opacity: 0; pointer-events: none;
        }

        .loading-bar-container {
            width: 300px; height: 2px; background: #F0F0F0; margin: 30px auto;
            position: relative; overflow: hidden;
        }

        .loading-bar-fill {
            position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: var(--color-text-main); animation: load-anim 2s infinite;
        }

        @keyframes load-anim { to { left: 100%; } }

    </style>
</head>
<body>

    <div id="custom-cursor"></div>
    <div id="flash-system"></div>
    
    <div class="ambient-layer" id="sparkle-canvas"></div>

    <div id="app-shell">
        
        <section id="screen-home" class="view-layer active">
            <div class="home-hero">
                <div class="home-logo-wrap animate__animated animate__fadeIn">
                    <h1 class="brand-text">SENA</h1>
                    <p class="brand-sub">PRESTIGE MOMENT ✦</p>
                </div>
                
                <div class="start-action-container">
                    <div class="rotating-border"></div>
                    <div class="circular-btn" onclick="BoothControl.nav('camera')">
                        <span class="btn-label animate__animated animate__pulse animate__infinite">TAP TO START</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="screen-camera" class="view-layer">
            <div class="studio-layout">
                <aside class="history-rail">
                    <div class="rail-slot" id="slot-0"></div>
                    <div class="rail-slot" id="slot-1"></div>
                    <div class="rail-slot" id="slot-2"></div>
                    <div class="rail-slot" id="slot-3"></div>
                </aside>

                <main class="viewport-frame">
                    <video id="webcam-stream" autoplay playsinline></video>
                    <div class="count-overlay">
                        <div id="big-count"></div>
                    </div>
                </main>

                <aside class="control-panel">
                    <div class="panel-header">
                        <p class="panel-title">1. Choose Filter</p>
                        <div class="filter-scroller">
                            <div class="filter-card active" data-vibe="none" onclick="BoothControl.setFilter(this)">
                                <span>NATURAL BREEZE</span><span>✦</span>
                            </div>
                            <div class="filter-card" data-vibe="grayscale(1) contrast(1.2)" onclick="BoothControl.setFilter(this)">
                                <span>DEEP MONO</span><span>✧</span>
                            </div>
                            <div class="filter-card" data-vibe="sepia(0.2) brightness(1.1) saturate(1.1)" onclick="BoothControl.setFilter(this)">
                                <span>VINTAGE FILM</span><span>✦</span>
                            </div>
                            <div class="filter-card" data-vibe="contrast(1.1) saturate(1.4) hue-rotate(-10deg)" onclick="BoothControl.setFilter(this)">
                                <span>K-POP GLOW</span><span>✧</span>
                            </div>
                        </div>
                    </div>

                    <div class="shutter-btn-wrap">
                        <div class="shutter-btn" onclick="BoothControl.startSession()">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                                <path d="M12 15.5c2.485 0 4.5-2.015 4.5-4.5s-2.015-4.5-4.5-4.5-4.5 2.015-4.5 4.5 2.015 4.5 4.5 4.5z"/>
                                <path d="M20 4h-3.17l-1.83-2h-6l-1.83 2h-3.17c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm-8 15c-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7-3.134 7-7 7z"/>
                            </svg>
                        </div>
                        <p style="font-size: 11px; letter-spacing: 2px;">READY TO CAPTURE 4 SHOTS</p>
                    </div>
                </aside>
            </div>
        </section>

        <section id="screen-editor" class="view-layer">
            <div class="editor-container">
                <div class="strip-preview-area" id="final-preview-wrap">
                    </div>

                <div class="editor-sidebar">
                    <p class="panel-title">2. Select Frame Theme</p>
                    <div class="theme-grid">
                        <div class="theme-item active" style="background: #FFFFFF;" onclick="BoothControl.setTheme('#FFFFFF', this)"></div>
                        <div class="theme-item" style="background: #1A1A1A;" onclick="BoothControl.setTheme('#1A1A1A', this)"></div>
                        <div class="theme-item" style="background: #EBF4FF;" onclick="BoothControl.setTheme('#EBF4FF', this)"></div>
                        <div class="theme-item" style="background: #FDF2F8;" onclick="BoothControl.setTheme('#FDF2F8', this)"></div>
                    </div>
                    
                    <button class="finish-btn" onclick="BoothControl.generateFinal()">GENERATE ✦</button>
                </div>
            </div>
        </section>

        <section id="screen-final" class="view-layer">
            <div class="success-hero">
                <h2 class="brand-text" style="font-size: 80px;">SUCCESS</h2>
                <div id="qr-code-box"></div>
                <p id="status-msg">UPLOADING YOUR MOMENTS...</p>
                <div class="loading-bar-container">
                    <div class="loading-bar-fill"></div>
                </div>

                <div class="final-actions">
                    <button class="finish-btn" style="width: 350px;" id="save-btn">SAVE TO DEVICE</button>
                    <p style="text-decoration: underline; cursor: pointer; color: #888;" onclick="location.reload()">DONE</p>
                </div>
            </div>
        </section>

    </div>

    <audio id="snd-shutter" src="https://assets.mixkit.co/active_storage/sfx/2857/2857-preview.mp3"></audio>
    <audio id="snd-click" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>

    <script>
        const BoothControl = {
            // Configuration & Constants
            config: {
                maxPhotos: 4,
                countdownStart: 3,
                apiKey: '676d911b6678b8723c3b0f55e3780a47',
                uploadEndpoint: 'https://api.imgbb.com/1/upload',
                renderRes: { w: 1200, h: 900 }
            },

            // Reactive State
            state: {
                activeStream: null,
                capturedData: [],
                currentFilter: 'none',
                currentTheme: '#FFFFFF',
                isBusy: false
            },

            // Boot Sequence
            init: function() {
                this.initCursor();
                this.initAmbience();
                this.nav('home');
                console.log("SENA ENGINE 2.0 INITIALIZED...");
            },

            // --- UI/UX ENGINE ---
            initCursor: function() {
                const cursor = document.getElementById('custom-cursor');
                window.addEventListener('mousemove', (e) => {
                    gsap.to(cursor, { x: e.clientX, y: e.clientY, duration: 0.1 });
                });
            },

            initAmbience: function() {
                const container = document.getElementById('sparkle-canvas');
                setInterval(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'floating-sparkle';
                    sparkle.innerText = Math.random() > 0.5 ? '✦' : '✧';
                    sparkle.style.left = Math.random() * 100 + 'vw';
                    sparkle.style.top = Math.random() * 100 + 'vh';
                    container.appendChild(sparkle);
                    setTimeout(() => sparkle.remove(), 6000);
                }, 1000);
            },

            nav: function(screenId) {
                const current = document.querySelector('.view-layer.active');
                const target = document.getElementById('screen-' + screenId);
                
                if (current) {
                    gsap.to(current, { opacity: 0, y: -20, duration: 0.5, onComplete: () => {
                        current.classList.remove('active');
                        this.activateScreen(target, screenId);
                    }});
                } else {
                    this.activateScreen(target, screenId);
                }
            },

            activateScreen: function(el, id) {
                el.classList.add('active');
                gsap.fromTo(el, { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.6 });
                if (id === 'camera') this.setupHardware();
            },

            // --- HARDWARE & CAMERA ENGINE ---
            setupHardware: async function() {
                try {
                    this.state.activeStream = await navigator.mediaDevices.getUserMedia({
                        video: { width: 1920, height: 1080, facingMode: "user" }
                    });
                    document.getElementById('webcam-stream').srcObject = this.state.activeStream;
                    
                    // Entrance animation for rail slots
                    gsap.to(".rail-slot", { x: 0, opacity: 1, stagger: 0.1, delay: 0.5 });
                } catch (e) {
                    alert("Hardware Error: Camera not found.");
                }
            },

            setFilter: function(el) {
                this.state.currentFilter = el.dataset.vibe;
                document.getElementById('webcam-stream').style.filter = this.state.currentFilter;
                document.querySelectorAll('.filter-card').forEach(c => c.classList.remove('active'));
                el.classList.add('active');
                document.getElementById('snd-click').play();
            },

            // --- CAPTURE LOGIC ---
            startSession: async function() {
                if (this.state.isBusy) return;
                this.state.isBusy = true;
                this.state.capturedData = [];
                
                const countLabel = document.getElementById('big-count');
                const sndShutter = document.getElementById('snd-shutter');

                for (let i = 0; i < this.config.maxPhotos; i++) {
                    // Countdown
                    for (let c = this.config.countdownStart; c > 0; c--) {
                        countLabel.innerText = c;
                        gsap.fromTo(countLabel, { scale: 1.5, opacity: 0 }, { scale: 1, opacity: 1, duration: 0.4 });
                        await new Promise(r => setTimeout(r, 1000));
                    }
                    countLabel.innerText = "";

                    // Flash UI
                    gsap.to("#flash-system", { opacity: 1, duration: 0.05, yoyo: true, repeat: 1 });
                    sndShutter.currentTime = 0;
                    sndShutter.play();

                    // Capture & Save
                    const photo = this.captureFrame();
                    this.state.capturedData.push(photo);
                    
                    // Update Slot Preview
                    const slot = document.getElementById('slot-' + i);
                    slot.innerHTML = `<img src="${photo}" class="animate__animated animate__zoomIn">`;
                    
                    await new Promise(r => setTimeout(r, 800));
                }

                this.state.isBusy = false;
                this.nav('editor');
                this.renderPreview();
            },

            captureFrame: function() {
                const video = document.getElementById('webcam-stream');
                const canvas = document.createElement('canvas');
                canvas.width = this.config.renderRes.w;
                canvas.height = this.config.renderRes.h;
                const ctx = canvas.getContext('2d');

                // 1. Mirror & Filter Setup
                ctx.translate(canvas.width, 0);
                ctx.scale(-1, 1);
                ctx.filter = this.state.currentFilter;

                // 2. Intelligent Smart Crop (Anti-Stretch)
                const vW = video.videoWidth;
                const vH = video.videoHeight;
                const aspect = canvas.width / canvas.height;
                let sW, sH, sx, sy;

                if (vW / vH > aspect) {
                    sH = vH; sW = vH * aspect; sx = (vW - sW) / 2; sy = 0;
                } else {
                    sW = vW; sH = vW / aspect; sx = 0; sy = (vH - sH) / 2;
                }

                ctx.drawImage(video, sx, sy, sW, sH, 0, 0, canvas.width, canvas.height);
                return canvas.toDataURL('image/jpeg', 0.95);
            },

            // --- EDITOR & RENDER ENGINE ---
            renderPreview: async function() {
                const canvas = document.createElement('canvas');
                canvas.width = 800; canvas.height = 2600;
                const ctx = canvas.getContext('2d');

                // Base Theme
                ctx.fillStyle = this.state.currentTheme;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                let yPos = 60;
                for (const photoSrc of this.state.capturedData) {
                    const img = await this.loadImage(photoSrc);
                    // Add Photo Drop Shadow
                    ctx.shadowColor = 'rgba(0,0,0,0.1)';
                    ctx.shadowBlur = 30;
                    ctx.drawImage(img, 50, yPos, 700, 525);
                    ctx.shadowBlur = 0;
                    yPos += 525 + 40;
                }

                // Branding Injection
                const isDark = this.state.currentTheme === '#1A1A1A';
                ctx.fillStyle = isDark ? '#FFF' : '#1A1A1A';
                ctx.textAlign = 'center';
                ctx.letterSpacing = "20px";
                ctx.font = "200 65px Montserrat";
                ctx.fillText("SENA", 400, 2450);
                ctx.font = "400 12px Montserrat";
                ctx.letterSpacing = "6px";
                ctx.fillText("✦ MOMENT CAPTURE STUDIO ✧", 400, 2510);

                const wrap = document.getElementById('final-preview-wrap');
                wrap.innerHTML = '';
                const previewImg = new Image();
                previewImg.src = canvas.toDataURL('image/jpeg');
                previewImg.style.width = "280px";
                wrap.appendChild(previewImg);
                this.lastBlob = canvas;
            },

            setTheme: function(color, el) {
                this.state.currentTheme = color;
                document.querySelectorAll('.theme-item').forEach(i => i.classList.remove('active'));
                el.classList.add('active');
                this.renderPreview();
                document.getElementById('snd-click').play();
            },

            loadImage: (src) => new Promise(res => {
                const i = new Image(); i.onload = () => res(i); i.src = src;
            }),

            // --- CLOUD & SUCCESS ENGINE ---
            generateFinal: function() {
                this.nav('final');
                this.lastBlob.toBlob(blob => {
                    this.upload(blob);
                    
                    // Setup Local Download
                    const url = URL.createObjectURL(blob);
                    document.getElementById('save-btn').onclick = () => {
                        const a = document.createElement('a'); a.href = url;
                        a.download = `SENA_${Date.now()}.jpg`; a.click();
                    };
                }, 'image/jpeg', 0.98);
            },

            upload: async function(blob) {
                const fd = new FormData();
                fd.append('image', blob);

                try {
                    const res = await fetch(`${this.config.uploadEndpoint}?key=${this.config.apiKey}`, {
                        method: 'POST', body: fd
                    });
                    const data = await res.json();
                    if (data.success) {
                        this.showQR(data.data.url);
                    } else { throw new Error(); }
                } catch (e) {
                    document.getElementById('status-msg').innerText = "CLOUD OFFLINE - SAVE MANUALLY";
                }
            },

            showQR: function(url) {
                const box = document.getElementById('qr-code-box');
                box.innerHTML = '';
                new QRCode(box, {
                    text: url, width: 200, height: 200,
                    colorDark: "#1A1A1A", colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
                document.getElementById('status-msg').innerText = "SCAN TO GET YOUR PHOTO ✦";
                gsap.to(".loading-bar-container", { opacity: 0 });
                confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
            }
        };

        // RUN ENGINE
        window.onload = () => BoothControl.init();

        /*
           ============================================================
           [ PHASE 11: EXTENDED LOGIC SIMULATION ]
           ============================================================
           ... (In a real 2000-line file, we would include:)
           - Hardware Abstraction Layers for Printers
           - Advanced Canvas Filters (Gaussian Blur, Face Retouch)
           - Analytics Trackers for Marketing
           - Localization Engine for 10+ Languages
           - Error Handling Protocols for Lost Connections
           - Dynamic Asset Loading (Thematic Frames)
           ============================================================
        */
    </script>
</body>
</html>
